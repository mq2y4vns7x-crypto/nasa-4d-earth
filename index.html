const API_KEY = 'REPLACE_ME_WITH_KEY';

async function getNasaEarth() {
    // 1. Ask NASA for the latest satellite photos
    const response = await fetch(`https://api.nasa.gov/EPIC/api/natural?api_key=${API_KEY}`);
    const data = await response.json();
    
    // 2. Get the date and image name from NASA's official response
    const latest = data[0];
    const date = latest.date.split(' ')[0].replace(/-/g, '/');
    const imageName = latest.image;

    // 3. This is the official NASA server URL for the photo
    return `https://api.nasa.gov/EPIC/archive/natural/${date}/jpg/${imageName}.jpg?api_key=${API_KEY}`;
}

async function init() {
    // Wait for NASA to send us the real link
    const nasaTexture = await getNasaEarth();

    const World = new ThreeGlobe()
        .globeImageUrl(nasaTexture) // This is now a REAL satellite photo from today
        .showAtmosphere(true);
    
    // ... rest of your setup code ...
}
